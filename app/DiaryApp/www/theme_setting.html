<!DOCTYPE html>
<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="css/theme_setting.css" />
	<title>Theme Selector</title>
</head>
<body>
	<div class="main">
		<h1>Select a theme</h1>

		<div class="themes">
			<div class="theme_container">
				<div id="theme1" onclick="theme_saver('theme1');" value="theme1" class="theme1">
					<li><a onclick="theme_saver('theme1');">Default</a></li>
				</div>
				<div id="theme2" onclick="theme_saver('theme2');" onclick="theme_saver(''); value = "theme2" class="theme2">
					<li><a onclick="theme_saver('theme2');">Theme 1</a></li>
				</div>
				<div onclick="theme_saver('theme3');" id="theme3" value="theme3" class="theme3">
					<li><a onclick="theme_saver('theme3');">Theme 2</a></li>
				</div>
				
			</div>
		</div>
	</div>	
</body>
</html>

<script src="js/jquery-3.3.1.min.js"></script>
<script type="text/javascript">
	var acc_id = localStorage.getItem('acc_id');
    var token = localStorage.getItem('token');
    

	function theme_saver(theme) {
		$.ajax({
	        url: 'https://vast-woodland-99478.herokuapp.com/themes',
	        dataType: 'json',
	        type: 'post',
	        contentType: 'application/json',
	        data: JSON.stringify({"acc_id": acc_id, "token": token, "theme": theme}),
	        processData: false,
	        success: function( data, textStatus, jQxhr ){          
	            console.log(data.theme);
	            localStorage.setItem('themes',data.theme);
	            if (theme == 'theme1'){
	            	location = 'theme1.html';
	            }else if (theme == 'theme2'){
	            	location = "theme2.html";
	            }else if(theme == 'theme3'){
	            	location = "theme3.html";
	            }
	        },
	        error: function( jqXhr, textStatus, errorThrown ){
	            console.log( errorThrown );
	            // alert("error")
	        }
	    });
	}

</script>